function y = filter(x)
%FILTER Filters input x and returns output y.

% MATLAB Code
% Generated by MATLAB(R) 9.5 and DSP System Toolbox 9.7.
% Generated on: 18-Oct-2019 11:02:31

%#codegen

% To generate C/C++ code from this function use the codegen command. Type
% 'help codegen' for more information.

persistent Hd;

if isempty(Hd)
    
    % The following code was used to design the filter coefficients:
    % % Equiripple Bandstop filter designed using the FIRPM function.
    %
    % % All frequency values are in Hz.
    % Fs = 1000;  % Sampling Frequency
    %
    % Fpass1 = 40;              % First Passband Frequency
    % Fstop1 = 45;              % First Stopband Frequency
    % Fstop2 = 55;              % Second Stopband Frequency
    % Fpass2 = 60;              % Second Passband Frequency
    % Dpass1 = 0.028774368332;  % First Passband Ripple
    % Dstop  = 0.001;           % Stopband Attenuation
    % Dpass2 = 0.057501127785;  % Second Passband Ripple
    % dens   = 20;              % Density Factor
    %
    % % Calculate the order from the parameters using FIRPMORD.
    % [N, Fo, Ao, W] = firpmord([Fpass1 Fstop1 Fstop2 Fpass2]/(Fs/2), [1 0 ...
    %                           1], [Dpass1 Dstop Dpass2]);
    %
    % % Calculate the coefficients using the FIRPM function.
    % b  = firpm(N, Fo, Ao, W, {dens});
    
    Hd = dsp.FIRFilter( ...
        'Numerator', [-0.0148670066638451 0.0117903919996819 ...
        0.00693149605681897 0.00338926080749642 0.000990677167116614 ...
        -0.000438231119277038 -0.00108372827487494 -0.0011324130203559 ...
        -0.000772871758800987 -0.000178653577615374 0.0004915541591364 ...
        0.00111088677827499 0.00158095624455961 0.0018441848635982 ...
        0.00187414894484449 0.00168172412419517 0.00130062180148162 ...
        0.000789785952526273 0.00021397022448232 -0.000353625698159212 ...
        -0.000850988895661372 -0.00122261900929467 -0.00143588085487972 ...
        -0.00147267996333764 -0.00134128258986302 -0.00106257962222515 ...
        -0.000678691807107852 -0.000235072858954927 0.000212227355034518 ...
        0.000616567235073314 0.00093191916597019 0.00113181196810048 ...
        0.00119729252079304 0.00113332965100277 0.000951965779506791 ...
        0.000685833142937399 0.000367061247037754 4.10442402535568e-05 ...
        -0.000259201950974435 -0.000494968666277915 -0.000650697666520124 ...
        -0.000708786575955738 -0.000680701195618924 -0.000571140893315233 ...
        -0.000416488039582252 -0.000231435882960596 -6.60435721509781e-05 ...
        7.69149946428951e-05 0.000151206179258521 0.000165690272952537 ...
        0.000129337065296399 1.32147191849017e-05 -9.27951934968224e-05 ...
        -0.000215391416934959 -0.000310692986753868 -0.000340992257368914 ...
        -0.000286333489949563 -0.000164690071908183 3.26004293499576e-05 ...
        0.000289105138398465 0.000574755742713334 0.00083454322373452 ...
        0.00103361895207994 0.00113643145451328 0.00112076602583987 ...
        0.000962099981274233 0.000662692785043468 0.000241215515053471 ...
        -0.000254738648746405 -0.000775718082690451 -0.00126099820373907 ...
        -0.00165690475417192 -0.00190647931961116 -0.00197039829505504 ...
        -0.00182278726434857 -0.00147025133668578 -0.000938869354511793 ...
        -0.000283620480589788 0.000432154685829771 0.00113035218849279 ...
        0.00173885033329905 0.00218583084610208 0.00242038839987804 ...
        0.00240847165225637 0.00214969703968525 0.00166747559989359 ...
        0.0010163625021283 0.000264702225456681 -0.000503165929337488 ...
        -0.00120832880815057 -0.00177409309198073 -0.00214643461401907 ...
        -0.00228712139407204 -0.00219299221384746 -0.00187855317023964 ...
        -0.00139667256897571 -0.000801269717980718 -0.000179755339024075 ...
        0.000408682875328777 0.000886812730405593 0.00121459839918265 ...
        0.00137161646230332 0.00135065419488399 0.00118449343006042 ...
        0.000915743322781801 0.000594188766931713 0.000282705621166845 ...
        3.5651668062655e-05 -0.000112329669644254 -0.000142816653144604 ...
        -5.62764117811729e-05 0.000118110418111025 0.000331215764094699 ...
        0.000525954599030535 0.000646453719747852 0.000639728711413861 ...
        0.00047177775287837 0.000135237009974759 -0.000346393965086028 ...
        -0.000924575030168924 -0.00152813753420144 -0.00207169656309751 ...
        -0.0024626373213944 -0.00262099424150447 -0.00248844733187593 ...
        -0.00204082768976062 -0.00129018140898208 -0.000289681703458049 ...
        0.000868831027590064 0.00206276141208066 0.00315429373688347 ...
        0.00400694110397633 0.00450289246779715 0.00455614093853601 ...
        0.0041277320025059 0.00323168983146484 0.0019398642474102 ...
        0.000372131931902538 -0.00131226045545792 -0.00293609166742892 ...
        -0.00431991872118544 -0.00530741528508492 -0.00577849671252762 ...
        -0.00567009535915111 -0.00498183782518624 -0.00377808070085928 ...
        -0.00218515002009618 -0.000366371109202128 0.00147802335868645 ...
        0.0031571337865205 0.00449011865655441 0.00533985409589672 ...
        0.00562877140057519 0.00534023835304054 0.00452669238868313 ...
        0.003301850251251 0.0018192797867219 0.000257766640272574 ...
        -0.00120156909830972 -0.00240156189911029 -0.00322633301401149 ...
        -0.00361284468935678 -0.00355991558276595 -0.00312761732876324 ...
        -0.00242333982346533 -0.00158313344643251 -0.000755248875749212 ...
        -7.56992580954177e-05 0.000355775586745566 0.000488459914777399 ...
        0.000328266750641241 -6.14733797299387e-05 -0.000569802723609983 ...
        -0.00105231494066997 -0.00135966571760434 -0.00135952066192749 ...
        -0.000961710903717107 -0.000137046535075845 0.00107049355025587 ...
        0.00254058003206623 0.00408976041230464 0.00549053553208224 ...
        0.00650163864639736 0.00689896308729691 0.0065118970652785 ...
        0.00525389696348487 0.00314504239159575 0.00032040236256265 ...
        -0.00297542525849973 -0.006406238751449 -0.00957908798220526 ...
        -0.012086218351628 -0.0135594686615485 -0.0137131132608099 ...
        -0.0123910863789471 -0.00959366408273862 -0.0054923378625212 ...
        -0.000426537906100037 0.00513143566798389 0.0106083159057061 ...
        0.0154025362537378 0.0189418143254551 0.0207530862056062 ...
        0.0205229293900401 0.018143737058609 0.0137340161511348 ...
        0.00764406895402208 0.000423373136739743 -0.0072261927407845 ...
        -0.0145222747076336 -0.0206810394105811 -0.0250065620270358 ...
        -0.0269670735560756 -0.026261509281601 -0.0228588464866843 ...
        -0.0170156592659267 -0.00925160496677016 -0.000307482118311423 ...
        0.00892875459322829 0.0175149997309883 0.0245539115838239 ...
        0.0292851988646911 0.0311761760112485 0.029975458537172 ...
        0.0257542818306504 0.018892866077565 0.0100543334419974 ...
        0.000112145375480815 -0.00993328208361939 -0.0190643803113457 ...
        -0.0263494158221065 -0.0310434002453191 0.967336597048949 ...
        -0.0310434002453191 -0.0263494158221065 -0.0190643803113457 ...
        -0.00993328208361939 0.000112145375480815 0.0100543334419974 ...
        0.018892866077565 0.0257542818306504 0.029975458537172 ...
        0.0311761760112485 0.0292851988646911 0.0245539115838239 ...
        0.0175149997309883 0.00892875459322829 -0.000307482118311423 ...
        -0.00925160496677016 -0.0170156592659267 -0.0228588464866843 ...
        -0.026261509281601 -0.0269670735560756 -0.0250065620270358 ...
        -0.0206810394105811 -0.0145222747076336 -0.0072261927407845 ...
        0.000423373136739743 0.00764406895402208 0.0137340161511348 ...
        0.018143737058609 0.0205229293900401 0.0207530862056062 ...
        0.0189418143254551 0.0154025362537378 0.0106083159057061 ...
        0.00513143566798389 -0.000426537906100037 -0.0054923378625212 ...
        -0.00959366408273862 -0.0123910863789471 -0.0137131132608099 ...
        -0.0135594686615485 -0.012086218351628 -0.00957908798220526 ...
        -0.006406238751449 -0.00297542525849973 0.00032040236256265 ...
        0.00314504239159575 0.00525389696348487 0.0065118970652785 ...
        0.00689896308729691 0.00650163864639736 0.00549053553208224 ...
        0.00408976041230464 0.00254058003206623 0.00107049355025587 ...
        -0.000137046535075845 -0.000961710903717107 -0.00135952066192749 ...
        -0.00135966571760434 -0.00105231494066997 -0.000569802723609983 ...
        -6.14733797299387e-05 0.000328266750641241 0.000488459914777399 ...
        0.000355775586745566 -7.56992580954177e-05 -0.000755248875749212 ...
        -0.00158313344643251 -0.00242333982346533 -0.00312761732876324 ...
        -0.00355991558276595 -0.00361284468935678 -0.00322633301401149 ...
        -0.00240156189911029 -0.00120156909830972 0.000257766640272574 ...
        0.0018192797867219 0.003301850251251 0.00452669238868313 ...
        0.00534023835304054 0.00562877140057519 0.00533985409589672 ...
        0.00449011865655441 0.0031571337865205 0.00147802335868645 ...
        -0.000366371109202128 -0.00218515002009618 -0.00377808070085928 ...
        -0.00498183782518624 -0.00567009535915111 -0.00577849671252762 ...
        -0.00530741528508492 -0.00431991872118544 -0.00293609166742892 ...
        -0.00131226045545792 0.000372131931902538 0.0019398642474102 ...
        0.00323168983146484 0.0041277320025059 0.00455614093853601 ...
        0.00450289246779715 0.00400694110397633 0.00315429373688347 ...
        0.00206276141208066 0.000868831027590064 -0.000289681703458049 ...
        -0.00129018140898208 -0.00204082768976062 -0.00248844733187593 ...
        -0.00262099424150447 -0.0024626373213944 -0.00207169656309751 ...
        -0.00152813753420144 -0.000924575030168924 -0.000346393965086028 ...
        0.000135237009974759 0.00047177775287837 0.000639728711413861 ...
        0.000646453719747852 0.000525954599030535 0.000331215764094699 ...
        0.000118110418111025 -5.62764117811729e-05 -0.000142816653144604 ...
        -0.000112329669644254 3.5651668062655e-05 0.000282705621166845 ...
        0.000594188766931713 0.000915743322781801 0.00118449343006042 ...
        0.00135065419488399 0.00137161646230332 0.00121459839918265 ...
        0.000886812730405593 0.000408682875328777 -0.000179755339024075 ...
        -0.000801269717980718 -0.00139667256897571 -0.00187855317023964 ...
        -0.00219299221384746 -0.00228712139407204 -0.00214643461401907 ...
        -0.00177409309198073 -0.00120832880815057 -0.000503165929337488 ...
        0.000264702225456681 0.0010163625021283 0.00166747559989359 ...
        0.00214969703968525 0.00240847165225637 0.00242038839987804 ...
        0.00218583084610208 0.00173885033329905 0.00113035218849279 ...
        0.000432154685829771 -0.000283620480589788 -0.000938869354511793 ...
        -0.00147025133668578 -0.00182278726434857 -0.00197039829505504 ...
        -0.00190647931961116 -0.00165690475417192 -0.00126099820373907 ...
        -0.000775718082690451 -0.000254738648746405 0.000241215515053471 ...
        0.000662692785043468 0.000962099981274233 0.00112076602583987 ...
        0.00113643145451328 0.00103361895207994 0.00083454322373452 ...
        0.000574755742713334 0.000289105138398465 3.26004293499576e-05 ...
        -0.000164690071908183 -0.000286333489949563 -0.000340992257368914 ...
        -0.000310692986753868 -0.000215391416934959 -9.27951934968224e-05 ...
        1.32147191849017e-05 0.000129337065296399 0.000165690272952537 ...
        0.000151206179258521 7.69149946428951e-05 -6.60435721509781e-05 ...
        -0.000231435882960596 -0.000416488039582252 -0.000571140893315233 ...
        -0.000680701195618924 -0.000708786575955738 -0.000650697666520124 ...
        -0.000494968666277915 -0.000259201950974435 4.10442402535568e-05 ...
        0.000367061247037754 0.000685833142937399 0.000951965779506791 ...
        0.00113332965100277 0.00119729252079304 0.00113181196810048 ...
        0.00093191916597019 0.000616567235073314 0.000212227355034518 ...
        -0.000235072858954927 -0.000678691807107852 -0.00106257962222515 ...
        -0.00134128258986302 -0.00147267996333764 -0.00143588085487972 ...
        -0.00122261900929467 -0.000850988895661372 -0.000353625698159212 ...
        0.00021397022448232 0.000789785952526273 0.00130062180148162 ...
        0.00168172412419517 0.00187414894484449 0.0018441848635982 ...
        0.00158095624455961 0.00111088677827499 0.0004915541591364 ...
        -0.000178653577615374 -0.000772871758800987 -0.0011324130203559 ...
        -0.00108372827487494 -0.000438231119277038 0.000990677167116614 ...
        0.00338926080749642 0.00693149605681897 0.0117903919996819 ...
        -0.0148670066638451]);
end

y = step(Hd,double(x));


% [EOF]
